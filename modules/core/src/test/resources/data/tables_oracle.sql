CREATE
    TABLE FAQ
    (
        FAQID INTEGER PRIMARY KEY,
        ANSWER VARCHAR2(128) NOT NULL,
        CREATIONTIMESTAMP TIMESTAMP NOT NULL,
        CREATOR VARCHAR2(32) NOT NULL,
        MODIFIEDTIMESTAMP TIMESTAMP NOT NULL,
        MODIFIER VARCHAR2(32) NOT NULL,
        PUBLISHED INTEGER NOT NULL,
        QUESTION VARCHAR2(128) NOT NULL
    );

CREATE SEQUENCE FAQ_SEQUENCE 
	START WITH 1
	INCREMENT BY 1;

CREATE OR REPLACE TRIGGER FAQ_TRIGGER 
	BEFORE INSERT
	ON FAQ
	REFERENCING NEW AS NEW
	FOR EACH ROW
BEGIN
	SELECT FAQ_SEQUENCE.NEXTVAL INTO :NEW.ID FROM DUAL;
END;

CREATE
    TABLE ATTACHMENT
    (
        ATTACHMENTID INTEGER PRIMARY KEY,
        NAME VARCHAR2(64) NOT NULL,
        ATTACHMENT BLOB,
        LENGTH INTEGER NOT NULL,
        FAQID INTEGER NOT NULL
    );
    
ALTER TABLE ATTACHMENT ADD 
      CONSTRAINT FK_FAQ
      FOREIGN    KEY (FAQID)
      REFERENCES FAQ(FAQID);
    
CREATE
    TABLE DB2ADMIN.VERSION
    (
        VERSIONID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
        ANSWER VARCHAR(128) NOT NULL,
        CREATIONTIMESTAMP TIMESTAMP NOT NULL,
        CREATOR VARCHAR(32) NOT NULL,
        MODIFIEDTIMESTAMP TIMESTAMP NOT NULL,
        MODIFIER VARCHAR(32) NOT NULL,
        PUBLISHED SMALLINT NOT NULL,
        QUESTION VARCHAR(128) NOT NULL,
        FAQID BIGINT NOT NULL,
        PRIMARY KEY (VERSIONID),
        CONSTRAINT FK1C935436F4BAC23 FOREIGN KEY (FAQID) REFERENCES FAQ (FAQID)
    );
    
CREATE
    TABLE DB2ADMIN.VERSIONATTACHMENT
    (
        ATTACHMENTID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
        NAME VARCHAR(64) NOT NULL,
        ATTACHMENT BLOB(128),
        LENGTH INTEGER NOT NULL,
        VERSIONID BIGINT NOT NULL,
        PRIMARY KEY (ATTACHMENTID),
        CONSTRAINT FK1C935436F4BAC24 FOREIGN KEY (VERSIONID) REFERENCES VERSION (VERSIONID)
    );

CREATE INDEX IDX1C935436F4BAC21 ON DB2ADMIN.ATTACHMENT(FAQID);

CREATE INDEX IDX1C935436F4BAC22 ON DB2ADMIN.ATTACHMENT(NAME);
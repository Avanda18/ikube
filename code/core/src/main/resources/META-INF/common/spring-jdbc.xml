<?xml version="1.0" encoding="UTF-8"?>

<beans
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:property="http://www.springframework.org/schema/p"

	xsi:schemaLocation="
			http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
            http://www.springframework.org/schema/util
            http://www.springframework.org/schema/util/spring-util.xsd">

	<bean id="nonXaDataSource"
		class="com.mchange.v2.c3p0.ComboPooledDataSource"
		destroy-method="close"
		property:driverClass="${jdbc.driver}"
		property:initialPoolSize="${jdbc.minPoolSize}"
		property:jdbcUrl="${jdbc.url}"
		property:maxPoolSize="${jdbc.maxPoolSize}"
		property:maxStatements="${jdbc.maxStatements}"
		property:password="${jdbc.password}"
		property:user="${jdbc.user}"
		property:checkoutTimeout="${jdbc.checkOutTimeout}"
		property:numHelperThreads="${jdbc.numHelperThreads}" />
		
	<bean
		id="ikube.toolkit.JndiInjector"
		class="ikube.toolkit.JndiInjector"
		init-method="initialize">
		<constructor-arg type="java.util.Map" ref="jndiObjects"/>
	</bean>
	<util:map id="jndiObjects">
		<entry key="nonXaDataSource" value-ref="nonXaDataSource" />
	</util:map>
	
	<!--<bean id="nonXaDataSource" 
		class="oracle.jdbc.pool.OracleDataSource" 
		destroy-method="close"
		property:password="${jdbc.password}"
		property:user="${jdbc.user}"
		property:URL="${jdbc.url}" />-->

</beans>
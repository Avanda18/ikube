<?xml version="1.0" encoding="UTF-8"?>

<!--suppress SpringBeanNameConventionInspection -->
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xmlns:property="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"

       xsi:schemaLocation="
            http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
			http://www.springframework.org/schema/util
            http://www.springframework.org/schema/util/spring-util.xsd">

    <!-- A dummy clusterer based on some test data as an example. -->
    <bean id="weka-clusterer" name="weka-clusterer" class="ikube.analytics.weka.WekaClusterer"/>
    <bean id="weka-clusterer-em" name="weka-clusterer-em" class="weka.clusterers.EM"/>
    <bean
        id="analyzer-info-em"
        class="ikube.model.AnalyzerInfo"
        property:analyzer="ikube.analytics.weka.WekaClusterer"
        property:algorithm="weka.clusterers.EM"/>
    <!--suppress InjectionValueTypeInspection -->
    <bean
        id="context-em"
        name="context-em"
        class="ikube.model.Context"
        property:name="bank-data"
        property:analyzer-ref="weka-clusterer"
        property:algorithm-ref="weka-clusterer-em"
        property:options-ref="cluster-options"
        property:maxTraining="${max-training}"
        property:analyzerInfo-ref="analyzer-info-em"/>
    <util:list id="cluster-options">
        <value type="java.lang.String">-R</value>
        <value type="java.lang.String">6</value>
    </util:list>

    <!-- A dummy classifier based on some test data as an example. -->
    <bean id="weka-classifier" name="weka-classifier" class="ikube.analytics.weka.WekaClassifier"/>
    <bean id="string-to-word-vector" class="weka.filters.unsupervised.attribute.StringToWordVector"/>
    <bean id="weka-classifier-smo" name="weka-classifier-smo" class="weka.classifiers.functions.SMO"/>
    <bean
        id="analyzer-info-smo"
        class="ikube.model.AnalyzerInfo"
        property:analyzer="ikube.analytics.weka.WekaClassifier"
        property:filter="weka.filters.unsupervised.attribute.StringToWordVector"
        property:algorithm="weka.classifiers.functions.SMO"/>
    <!--suppress InjectionValueTypeInspection -->
    <bean
        id="context-smo"
        name="context-smo"
        class="ikube.model.Context"
        property:name="sentiment-smo"
        property:analyzer-ref="weka-classifier"
        property:filter-ref="string-to-word-vector"
        property:algorithm-ref="weka-classifier-smo"
        property:maxTraining="${max-training}"
        property:analyzerInfo-ref="analyzer-info-smo"/>

    <!-- This will initialize all the analyzers and build them in parallel. -->
    <bean
        id="ikube.analytics.AnalyzerManager"
        name="ikube.analytics.AnalyzerManager"
        class="ikube.analytics.AnalyzerManager"
        depends-on="ikube.toolkit.ThreadUtilities"/>

    <bean
        id="ikube.analytics.IAnalyticsService"
        name="ikube.analytics.IAnalyticsService"
        class="ikube.analytics.AnalyticsService"/>

</beans>